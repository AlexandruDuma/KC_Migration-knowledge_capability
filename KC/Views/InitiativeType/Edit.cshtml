@model KC.Models.InitiativeTypeModel

@{
    ViewBag.Title = "Client Involvement";
    ViewBag.JSPage = "initiativetype.js";
}
<!-- header with breadcrumbs -->
<div class="kt-subheader   kt-grid__item" id="kt_subheader">
    <div class="kt-container ">
        <div class="kt-subheader__main">
            <h3 class="kt-subheader__title">Administration</h3>
            <span class="kt-subheader__separator kt-subheader__separator--v"></span>
            <div class="kt-subheader__breadcrumbs">
                <a href="" id="hb_link" class="kt-subheader__breadcrumbs-link">@ViewBag.Title</a>
            </div>
        </div>
    </div>
</div>
<!-- body -->
<div class="kt-container  kt-grid__item kt-grid__item--fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="kt-portlet">
                <!-- title -->
                <div class="kt-portlet__head">
                    <div class="kt-portlet__head-label">
                        <h3 class="kt-portlet__head-title @(!ViewBag.isValid?"text-danger":"")">@ViewBag.Title</h3>
                    </div>
                </div>
                <!-- loading -->
                <div class="kt-portlet__body" id="formLoading">
                    <div class="kt-section">
                        <div class="d-flex justify-content-center">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- form -->
                <form action="/InitiativeType/Edit?id=@Model.initiative_type_id" method="post" class="kt-form" id="mainForm" style="display:none">
                    @Html.HiddenFor(model => model.initiative_type_id)
                    <div class="kt-portlet__body">
                        <div class="form-group row">
                            @Html.LabelFor(model => model.code, new { @class = "col-form-label col-lg-3 col-sm-12" })
                            <div class="col-lg-1 col-md-2 col-sm-12">
                                <input class="form-control" type="text" id="code" name="code" value="@Model.code" />
                            </div>
                        </div>
                        <div class="form-group row">
                            @Html.LabelFor(model => model.name, new { @class = "col-form-label col-lg-3 col-sm-12" })
                            <div class="col-lg-4 col-md-9 col-sm-12">
                                <input class="form-control" type="text" id="name" name="name" value="@Model.name" />
                            </div>
                        </div>
                        <div class="form-group row">
                            @Html.LabelFor(model => model.allow_creation, new { @class = "col-form-label col-lg-3 col-sm-12" })
                            <div class="col-9 col-form-label">
                                <div class="radio-inline">
                                    <label class="radio radio-success">
                                        @if (Model.allow_creation)
                                        {<input type="radio" value="true" name="allow_creation" checked="checked" /> }
                                        else
                                        { <input type="radio" value="true" name="allow_creation" />}
                                        <span></span>
                                        Yes
                                    </label>
                                    <label class="radio radio-success">
                                        @if (Model.allow_creation)
                                        {<input type="radio" value="false" name="allow_creation" /> }
                                        else
                                        { <input type="radio" value="false" name="allow_creation" checked="checked" />}
                                        <span></span>
                                        No
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            @Html.LabelFor(model => model.short_description, new { @class = "col-form-label col-lg-3 col-sm-12" })
                            <div class="col-lg-4 col-md-9 col-sm-12">
                                <input class="form-control" type="text" id="short_description" name="short_description" value="@Model.short_description" />
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-form-label col-lg-3 col-sm-12">
                                Description
                            </label>
                            <div class="col-lg-6 col-md-9 col-sm-12">
                                <div id="kt_description" style="height: 325px">@Html.Raw(Model.description)</div>
                            </div>
                            <input class="form-control" type="text" value="" id="description" name="description" style="display:none">
                        </div>
                        <div class="form-group row">
                            @Html.LabelFor(model => model.display_color_class, new { @class = "col-form-label col-lg-3 col-sm-12" })
                            <div class="col-lg-3 col-md-3 col-sm-12">
                                <input class="form-control" type="text" id="display_color_class" name="display_color_class" value="@Model.display_color_class" />
                            </div>
                        </div>
                    </div>
                    <div class="kt-portlet__foot">
                        <div class="kt-form__actions">
                            <button type="button" class="btn btn-primary" id="btnSubmit">Submit</button>
                            <button type="button" class="btn btn-secondary" id="btnCancel">Cancel</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- validation -->
    @if (!ViewBag.isValid)
    {
        <div class="row">
            <div class="col-md-12">
                <div class="kt-portlet">
                    <div class="kt-portlet__head">
                        <div class="kt-portlet__head-label">
                            <h3 class="kt-portlet__head-title">Validation errors</h3>
                        </div>
                    </div>
                    <div class="kt-portlet__body">
                        <div class="row">
                            <div class="col-lg-4 col-md-9 col-sm-12">
                                @Html.ValidationSummary(false, "Please address the following errors on page:", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
